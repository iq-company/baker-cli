# direnv: automatically create and activate a local Python virtualenv in .venv

export VIRTUAL_ENV_DISABLE_PROMPT=1

if ! command -v python3 >/dev/null 2>&1; then
  echo "python3 not found in PATH" >&2
  exit 1
fi

# Create .venv if it doesn't exist yet
if [ ! -d .venv ]; then
  python3 -m venv .venv
fi

# Activate the virtual environment
source .venv/bin/activate

# Optionally load environment variables from a .env file if present
if [ -f .env ]; then
  set -a
  # shellcheck disable=SC1091
  . ./.env
  set +a
fi


